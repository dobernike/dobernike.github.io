{"version":3,"file":"main.js","sources":["js/view/abstract-view.js","js/view/welcome-screen.js","js/data/quest.js","js/view/footer-view.js","js/view/header-view.js","js/game/level-view.js","js/view/gameover-view.js","js/game-screen.js","js/data/quest-data.js","js/model/quest-model.js","js/view/scoreboard-view.js","js/util.js","js/router.js","js/main.js"],"sourcesContent":["const render = (html) => {\n  const wrapper = document.createElement(`div`);\n  wrapper.innerHTML = html.trim();\n  return wrapper;\n};\n\n\nexport default class AbstractView {\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error(`Can't instantiate AbstractView, only concrete one`);\n    }\n  }\n\n  get template() {\n    throw new Error(`Template is required`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = this.render();\n    this.bind(this._element);\n    return this._element;\n  }\n\n  render() {\n    return render(this.template);\n  }\n\n  bind() {\n    // bind handlers if required\n  }\n}\n","/* eslint-disable object-curly-spacing */\nimport AbstractView from './abstract-view.js';\nimport Router from '../router.js';\n// import { render } from '../util.js';\n// import GameScreen from './game-screen.js';\n// import QuestModel from './model/quest-model.js';\n\nexport default class WelcomeScreen extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `<div class=\"end\">\n    <p>Ghbdtn! Настало время приключений! Вы готовы сразится с неприятностями и получить принцессу прямо сейчас?!<br>\n      А?!<br>\n      Точно?!<br>\n      Уверен?!<br>\n      Стопудов?!</p>\n    <p>08 есть?</p>\n    <div class=\"repeat\">\n      Ваше имя:<input type=\"text\"><br>\n      <span class=\"repeat-action\">Да</span>\n    </div>\n    </div>`;\n  }\n\n  bind() {\n    const agreeButton = this.element.querySelector(`.repeat-action`);\n    const playerName = this.element.querySelector(`input`);\n    agreeButton.addEventListener(`click`, () => {\n      // console.log(playerName.value);\n      new Router().constructor.showGame(playerName.value);\n      // const gameModel = new QuestModel(inputValue);\n      // const gameScreen = new GameScreen(gameModel);\n\n      // changeView(gameScreen.element);\n      // gameScreen.startGame();\n    });\n  }\n}\n\n// const template =\n\n// const element = render(template);\n\n// const input = element.querySelector(`input`);\n\n// const agreeButton = element.querySelector(`.repeat-action`);\n// agreeButton.addEventListener(`click`, () => {\n// const inputValue = input.value();\n// const gameModel = new QuestModel(inputValue);\n// const gameScreen = new GameScreen(gameModel);\n// changeView(gameScreen.element);\n// gameScreen.startGame();\n// });\n\n\n// export default element;\n","export const INITIAL_GAME = Object.freeze({\n  level: 0,\n  lives: 3,\n  time: 0\n});\n\nexport const Result = {\n  NOOP: 0,\n  DIE: 1,\n  WIN: 2,\n  NEXT_LEVEL: 3\n};\n\nexport const changeLevel = (game, level) => {\n  if (typeof level !== `number`) {\n    throw new Error(`Level should not be negative value`);\n  }\n  if (level < 0) {\n    throw new Error(`Level should not be negative value`);\n  }\n\n  const newGame = Object.assign({}, game, {\n    level\n  });\n  return newGame;\n};\n\nexport const canContinue = (game) => {\n  return game.lives !== 0 ? game : false;\n};\n\nexport const die = (game) => {\n  game = Object.assign({}, game, {\n    lives: game.lives - 1\n  });\n  return game;\n};\n\nexport const tick = (state) => {\n  state = Object.assign({}, state, {\n    time: state.time + 1\n  });\n  return state;\n};\n","import AbstractView from './abstract-view.js';\n\nexport default class FooterView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `<div>\n<div class=\"result\"></div>\n<small>Для справки введите <i>help</i></small>\n</div>`;\n  }\n}\n","import AbstractView from \"./abstract-view.js\";\n\nexport default class HeaderView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    return `<header class=\"header\">\n    <div>Мир: ${this.state.level}</div>\n    <div>Жизни:\n    ${new Array(3 - this.state.lives)\n        .fill(`<span class=\"heart__empty\">♡</span>`).join(``)}\n    ${new Array(this.state.lives)\n        .fill(`<span class=\"heart__full\">♥</span>`).join(``)}\n    </div>\n    <div>Время: ${this.state.time}</div>\n    </header>`;\n  }\n}\n\n\n","/* eslint-disable object-curly-spacing */\nimport AbstractView from '../view/abstract-view.js';\n\n\nconst ENTER_KEY_CODE = 13;\n\n\nexport default class LevelView extends AbstractView {\n  constructor(level) {\n    super();\n    this.level = level;\n  }\n\n  get template() {\n    return `<div class=\"quest\">\n    <p class=\"text\">${this.level.text}</p>\n\n    <ul class=\"answers\">\n    ${this.level.answers.map((it) => `<li class=\"answer\">${it.action.toUpperCase()}. ${it.title}</li>`).join(``)}\n    </ul>\n    <input type=\"text\">\n  </div>`;\n  }\n\n  bind() {\n    const answersElement = this.element.querySelector(`.answers`);\n\n    const answersElements = Array.from(answersElement.children);\n\n    answersElement.addEventListener(`click`, (evt) => {\n      const answerIndex = answersElements.indexOf(evt.target);\n      const answer = this.level.answers[answerIndex];\n      if (answer) {\n        this.onAnswer(answer);\n\n      }\n    });\n\n    this._answerInput = this.element.querySelector(`input`);\n    this._answerInput.addEventListener(`keydown`, ({ keyCode }) => {\n      if (keyCode === ENTER_KEY_CODE) {\n        const current = this.level;\n        const { value = `` } = this._answerInput;\n        const userAnswer = value.toUpperCase();\n        for (const answer of current.answers) {\n          if (userAnswer === answer.action.toUpperCase()) {\n            this.onAnswer(answer);\n          }\n        }\n      }\n    });\n  }\n\n  onAnswer() { }\n\n  focus() {\n    this._answerInput.focus();\n  }\n}\n\n","import AbstractView from './abstract-view.js';\n\n\nexport default class GameOverView extends AbstractView {\n  constructor(win, canContinue) {\n    super();\n    this.win = win;\n    this.canContinue = canContinue;\n  }\n\n  get template() {\n    return `\n<div>\n<div class=\"end\">\n  <p>Вы погибли =(!</p>\n  <p>Продолжить с последнего уровня?</p>\n  <div class=\"repeat\"><span class=\"repeat-action\">Да</span>|<span class=\"repeat-action\">Не</span></div>\n</div>\n</div>`;\n  }\n\n  bind() {\n    console.log(`bind`);\n    const repeatAction = this.element.querySelector(`.repeat-action`);\n    console.log(repeatAction)\n    repeatAction.addEventListener(`click`, () => {\n      console.log(this.game);\n      if (this.game.lives) {\n        console.log(`s`)\n        this.onRepeat();\n      }\n    });\n  }\n\n  onRepeat() { }\n}\n","/* eslint-disable object-curly-spacing */\nimport { Result } from './data/quest.js';\nimport FooterView from './view/footer-view.js';\nimport HeaderView from './view/header-view.js';\nimport LevelView from './game/level-view.js';\nimport GameOverView from './view/gameover-view.js';\nimport Router from './router.js';\n\n\nexport default class GameScreen {\n  constructor(model) {\n    // Инициализация и настройка игры\n    this.model = model;\n    this.header = new HeaderView(this.model.state);\n    // console.log(this.model.state);\n    this.content = new LevelView(this.model.getCurrentLevel());\n    // console.log(this.model.getCurrentLevel);\n    this.root = document.createElement(`div`);\n    this.root.appendChild(this.header.element);\n    this.root.appendChild(this.content.element);\n    this.root.appendChild(new FooterView().element);\n\n    this._timer = null;\n  }\n\n  get element() {\n    return this.root;\n  }\n\n  stopGame() {\n    // Остановка игры\n    clearInterval(this._timer);\n  }\n\n  _tick() {\n    this.model.tick();\n    this.updateHeader();\n    this._timer = setTimeout(() => this._tick(), 1000);\n  }\n\n  startGame() {\n    // Старт игры\n    this.changeLevel();\n    this._tick();\n  }\n\n  answer(answer) {\n    // Обрабтка ответа пользователя\n    this.stopGame();\n    switch (answer.result) {\n      case Result.NEXT_LEVEL:\n        this.model.nextLevel();\n        this.startGame();\n        break;\n      case Result.DIE:\n        this.model.die();\n        this.endGame(false, !(this.model.isDead()));\n        break;\n      case Result.WIN:\n        this.endGame(true, false);\n        break;\n      default:\n        throw new Error(`Unknown result: ${answer.result}`);\n    }\n  }\n\n  restart(continueGame) {\n    // Продолжение или сброс игры\n    if (!continueGame) {\n      this.model.restart();\n    }\n    this.startGame();\n  }\n\n  exit() {\n    // Выход из игры\n    new Router().showStats(this.model);\n  }\n\n  updateHeader() {\n    // Обновление статистики игрока\n    const header = new HeaderView(this.model.state);\n\n    this.root.replaceChild(header.element, this.root.firstChild);\n  }\n\n  changeLevel() {\n    // Обновление текущего уровня\n    this.updateHeader();\n\n    const level = new LevelView(this.model.getCurrentLevel());\n    level.onAnswer = this.answer.bind(this);\n    this._changeContentView(level);\n    level.focus();\n  }\n\n  endGame(win, canContinue) {\n    // Проигрыш игрока\n    const gameOver = new GameOverView(win, canContinue);\n    gameOver.onRestart = this.restart.bind(this);\n    gameOver.onExit = this.exit.bind(this);\n\n    this._changeContentView(gameOver);\n    this.updateHeader();\n  }\n\n  _changeContentView(view) {\n    // Вспомогательный внутренний метод\n    this.root.replaceChild(view.element, this.content.element);\n    this.content = view;\n  }\n}\n","/* eslint-disable object-curly-spacing */\r\nimport { Result } from \"./quest\";\r\n\r\n\r\nexport default {\r\n  'level-0': {\r\n    text: `Вас зовут Луиджи Марио, вы водопроводчик, но сейчас перед вами стоит очень важная миссия — спасти принцессу\r\n  Грибного Королевства Тоадстул Пич. Её похитил злой повелитель черепах Боузер и вы отправились в Грибное Королевство,\r\n  чтобы победить Боузера и освободить принцессу. Вы отправляетесь в первый замок, но, чтобы в него попасть нужно\r\n  преодолеть несколько препятствий. Вы стоите посреди на одной из равнин Грибного Королевства и видите как на вас\r\n  стремительно несется хмурый гриб вашего роста. Нужно срочно что-то предпринять`,\r\n    answers: [\r\n      {\r\n        action: `left`,\r\n        title: `Вы побежите влево, от гриба`,\r\n        result: Result.DIE\r\n      },\r\n      {\r\n        action: `right`,\r\n        title: `Вы побежите вправо, прямо на гриб`,\r\n        result: Result.DIE\r\n      },\r\n      {\r\n        action: `jump`,\r\n        title: `Вы прыгните вверх`,\r\n        result: Result.NEXT_LEVEL\r\n      }\r\n    ]\r\n  },\r\n\r\n  'level-1': {\r\n    text: `Теперь, когда угроза быть убитым грибом миновала, вы можете спокойно оглядеться по сторонам. Вы видите что над вами прямо в двумерном небе висят кирпичные блоки, которые перемещаются с непонятными металлическими конструкциями. Что вы предпримете?`,\r\n    answers: [\r\n      {\r\n        action: `left`,\r\n        title: `Вы побежите влево`,\r\n        result: Result.DIE\r\n      },\r\n      {\r\n        action: `right`,\r\n        title: `Вы побежите вправо`,\r\n        result: Result.DIE\r\n      },\r\n      {\r\n        action: `jump`,\r\n        title: `Как что, конечно же подпрыгну и со всей силы ударюсь головой о железяку!`,\r\n        result: Result.NEXT_LEVEL\r\n      }\r\n    ]\r\n  },\r\n\r\n  'level-2': {\r\n    text: `Вы проходите немного вперед и снова видите над головой кирпичную кладку. Вы хотите проверить свои новые силы и со всего размаху бьетесь об нее головой. На этот раз кирпичи разлетаются во все стороны. Вы начинаете радостно прыгать и разносить головой все кирпичи, но случайно ударяетесь о еще одну металлическую штуку и видите как из нее вырастает цветок. Ваши действия?`,\r\n    answers: [\r\n      {\r\n        action: `left`,\r\n        title: `Вы побежите влево`,\r\n        result: Result.DIE\r\n      },\r\n      {\r\n        action: `right`,\r\n        title: `Вы побежите вправо`,\r\n        result: Result.DIE\r\n      },\r\n      {\r\n        action: `1`,\r\n        title: `Конечно же съесть его!`,\r\n        result: Result.WIN\r\n      }\r\n    ]\r\n  }\r\n};\r\n","/* eslint-disable object-curly-spacing */\nimport { INITIAL_GAME, changeLevel, die, tick } from '../data/quest.js';\n\nimport QUEST from '../data/quest-data.js';\n\nconst getLevel = (state) => QUEST[`level-${state.level}`];\n\nexport default class QuestModel {\n  constructor(playerName) {\n    this.playerName = playerName;\n    this.restart();\n  }\n\n  get state() {\n    return Object.freeze(this._state);\n  }\n\n  hasNextLevel() {\n    return getLevel(this._state.level + 1) !== void 0;\n  }\n\n  nextLevel() {\n    this._state = changeLevel(this._state, this._state.level + 1);\n  }\n\n  die() {\n    this._state = die(this.state);\n  }\n\n  restart() {\n    this._state = INITIAL_GAME;\n  }\n\n  isDead() {\n    return this._state.lives <= 0;\n  }\n\n  getCurrentLevel() {\n    return getLevel(this._state);\n  }\n\n  tick() {\n    this._state = tick(this._state);\n  }\n}\n","/* eslint-disable object-curly-spacing */\nimport AbstractView from './abstract-view.js';\n\nexport default class ScoreboardView extends AbstractView {\n  constructor(model) {\n    super();\n    this.model = model;\n  }\n\n  get template() {\n    return `<div class=\"end\">\n    <div class=\"scoreboard\">\n      <h1>Мои лучшие результаты</h1>\n\n      <table class=\"scores\">\n        <tbody>\n          <tr>\n            <td>\n              <small>1.</small>\n            </td>\n            <td style=\"text-align: right;\">5 сек</td>\n            <td>????💗💗</td>\n            <td>25.05.2018</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <br>\n    <div class=\"repeat\"><span class=\"repeat-action\">Сыграть заново</span>&nbsp;|&nbsp;<a class=\"repeat-action\" href=\"https://google.com\">Выйти</a>????</div>\n    </div>`;\n  }\n}\n","export const render = (template) => {\r\n  const wrapper = document.createElement(`div`);\r\n  wrapper.innerHTML = template;\r\n  return wrapper;\r\n};\r\n\r\nexport const mainElement = document.querySelector(`#main`);\r\n\r\nexport const changeScreen = (element) => {\r\n  mainElement.innerHTML = ``;\r\n  mainElement.appendChild(element);\r\n};\r\n\r\n","/* eslint-disable object-curly-spacing */\nimport WelcomeScreen from './view/welcome-screen.js';\nimport GameScreen from './game-screen.js';\nimport QuestModel from './model/quest-model.js';\nimport ScoreboardView from './view/scoreboard-view.js';\nimport { changeScreen } from './util.js';\n\n\nexport default class Router {\n\n  static showWelcome() {\n    const welcome = new WelcomeScreen();\n    changeScreen(welcome.element);\n  }\n\n  static showGame(playerName) {\n    const gameScreen = new GameScreen(new QuestModel(playerName));\n    changeScreen(gameScreen.element);\n    gameScreen.startGame();\n  }\n\n  static showStats(model) {\n    const statistics = new ScoreboardView(model);\n    changeScreen(statistics.element);\n  }\n\n}\n","import Router from './router.js';\n\nconst router = new Router();\nrouter.constructor.showWelcome();\n"],"names":["canContinue"],"mappings":"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"}