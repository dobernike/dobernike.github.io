{"version":3,"file":"main.js","sources":["js/util.js","js/game/header.js","js/game/footer.js","js/game/level.js","js/data/data.js","js/data/quest.js","js/data/quest-data.js","js/game/gameover-screen.js","js/game-screen.js","js/welcome-screen.js","js/main.js"],"sourcesContent":["export const render = (template) => {\n  const wrapper = document.createElement(`div`);\n  // wrapper.innerHTML = template.trim();\n  wrapper.innerHTML = template;\n  return wrapper;\n};\n\nexport const mainElement = document.querySelector(`#main`);\n\nexport const changeScreen = (element) => {\n  mainElement.innerHTML = ``;\n  // element.forEach((it) => {\n  mainElement.appendChild(element);\n  // });\n\n};\n\n","// import { render } from './util.js';\r\n// import { initialState } from './data/data.js';\r\n// const headerTemplate =\r\nexport default (state) => `<header class=\"header\">\r\n<div>Мир: ${state.level}</div>\r\n<div>Жизни:\r\n${new Array(3 - state.lives)\r\n    .fill(`<span class=\"heart__empty\">♡</span>`).join(``)}\r\n${new Array(state.lives)\r\n    .fill(`<span class=\"heart__full\">♥</span>`).join(``)}\r\n</div>\r\n<div>Время: ${state.time}</div>\r\n</header>`;\r\n\r\n// export default render(headerTemplate(initialState));\r\n","/* eslint-disable object-curly-spacing */\nimport { render } from '../util.js';\nconst template = `<div>\n<div class=\"result\"></div>\n<small>Для справки введите <i>help</i></small>\n</div>`;\n\nexport default render(template);\n","const getAnswer = (level) => {\n  let answers = ``;\n  for (const answer of level.answers) {\n    answers += `<li class=\"answer\"> ${answer.action.toUpperCase() + ` ` + answer.title}</li>`;\n  }\n  return answers;\n};\n\nexport default (lvl) => `\n<div>\n<div class=\"quest\">\n  <p class=\"text\">\n  ${lvl.text}\n  </p>\n  <input type=\"text\">\n  <ul class=\"answers\">\n  ${getAnswer(lvl)}\n  </ul >\n</div >\n</div >\n`;\n\n","export const initialState = {\r\n  level: `level-0`,\r\n  lives: 3,\r\n  time: 0\r\n};\r\n\r\nexport const levels = {\r\n  'level-0': {\r\n    description: `Вас зовут Луиджи Марио, вы водопроводчик, но сейчас перед вами стоит очень важная миссия — спасти принцессу\r\n  Грибного Королевства Тоадстул Пич. Её похитил злой повелитель черепах Боузер и вы отправились в Грибное Королевство,\r\n  чтобы победить Боузера и освободить принцессу. Вы отправляетесь в первый замок, но, чтобы в него попасть нужно\r\n  преодолеть несколько препятствий. Вы стоите посреди на одной из равнин Грибного Королевства и видите как на вас\r\n  стремительно несется хмурый гриб вашего роста. Нужно срочно что-то предпринять`,\r\n    answers: {\r\n      'left': null,\r\n      'jump': null,\r\n      'right': `level-1`\r\n    }\r\n  },\r\n\r\n  'level-1': {\r\n    description: `И вот вы справа. Тут ничего нет, похоже, остается только вернуться назад`,\r\n    answers: {\r\n      'left': `level-0`\r\n    }\r\n  }\r\n};\r\n","export const INITIAL_GAME = Object.freeze({\n  level: 0,\n  lives: 3,\n  time: 0\n});\n\nexport const changeLevel = (game, level) => {\n  if (typeof level !== `number`) {\n    throw new Error(`Level should not be negative value`);\n  }\n  if (level < 0) {\n    throw new Error(`Level should not be negative value`);\n  }\n\n  const newGame = Object.assign({}, game, {\n    level\n  });\n  return newGame;\n};\n\nexport const canContinue = (game) => {\n  return game.lives !== 0 ? game : false;\n};\n\nexport const die = (game) => {\n  game.lives -= 1;\n  return game;\n};\n\nexport const Result = ``;\n","export default {\n  'level-0': {\n    text: `Вас зовут Луиджи Марио, вы водопроводчик, но сейчас перед вами стоит очень важная миссия — спасти принцессу\n  Грибного Королевства Тоадстул Пич. Её похитил злой повелитель черепах Боузер и вы отправились в Грибное Королевство,\n  чтобы победить Боузера и освободить принцессу. Вы отправляетесь в первый замок, но, чтобы в него попасть нужно\n  преодолеть несколько препятствий. Вы стоите посреди на одной из равнин Грибного Королевства и видите как на вас\n  стремительно несется хмурый гриб вашего роста. Нужно срочно что-то предпринять`,\n    answers: [\n      {\n        action: `left`,\n        title: `Вы побежите влево, от гриба`,\n        // result: die(),\n        go: () => {\n          return null;\n        }\n      },\n      {\n        action: `right`,\n        title: `Вы побежите вправо, прямо на гриб`,\n        // result: die()\n        go: () => {\n          return null;\n        }\n      },\n      {\n        action: `jump`,\n        title: `Вы прыгните вверх`,\n        // result: Result.NEXT_LEVEL\n        go: () => {\n          return 1;\n        }\n      }\n    ]\n  },\n\n  'level-1': {\n    text: `Теперь, когда угроза быть убитым грибом миновала, вы можете спокойно оглядеться по сторонам. Вы видите что над вами прямо в двумерном небе висят кирпичные блоки, которые перемещаются с непонятными металлическими конструкциями. Что вы предпримете?`,\n    answers: [\n      {\n        action: `left`,\n        title: `Вы побежите влево`,\n        // result: die()\n        go: () => {\n          return null;\n        }\n      },\n      {\n        action: `right`,\n        title: `Вы побежите вправо`,\n        // result: die()\n        go: () => {\n          return null;\n        }\n      },\n      {\n        action: `jump`,\n        title: `Вы прыгните вверх`,\n        // result: die()\n        go: () => {\n          return null;\n        }\n      }\n    ]\n  }\n};\n","/* eslint-disable object-curly-spacing */\nimport { render, changeScreen } from '../util.js';\nimport header from './header.js';\n\nexport default (game) => {\n  const template = `${header(game)}\n<div>\n<div class=\"end\">\n  <p>Вы погибли =(!</p>\n  <p>Продолжить с последнего уровня?</p>\n  <div class=\"repeat\"><span class=\"repeat-action\">Да</span>|<span class=\"repeat-action\">Не</span></div>\n</div>\n</div>`;\n  const gameover = render(template);\n  return changeScreen(gameover);\n};\n","/* eslint-disable object-curly-spacing */\nimport { render, changeScreen } from './util.js';\nimport renderHeader from './game/header.js'; // ./game/header.js\nimport footer from './game/footer.js';\nimport renderLevel from './game/level.js';\nimport { initialState } from './data/data.js'; //\nimport { INITIAL_GAME, changeLevel, canContinue, die } from './data/quest.js';\nimport QUEST from './data/quest-data.js';\nimport showGameOver from './game/gameover-screen.js';\n\nconst ENTER_KEY_CODE = 13; //\n\nlet game; //\n\nconst startGame = () => {\n  game = Object.assign({}, INITIAL_GAME);\n\n  const gameContainerElement = render(``);\n  const headerElement = render(``);\n  const levelElement = render(``);\n\n  // init game content\n  gameContainerElement.appendChild(headerElement);\n  gameContainerElement.appendChild(levelElement);\n  gameContainerElement.appendChild(footer);\n\n  const getLevel = () => QUEST[`level-${game.level}`];\n\n  const updateGame = (state) => {\n    headerElement.innerHTML = renderHeader(state);\n    levelElement.innerHTML = renderLevel(getLevel(state.level));\n  };\n\n  levelElement.addEventListener(`keydown`, ({ keyCode }) => {\n    if (keyCode === ENTER_KEY_CODE) {\n      const current = getLevel(game.level);\n      const { value = `` } = levelElement.querySelector(`input`);\n      const userAnswer = value.toUpperCase();\n\n      for (const answer of current.answers) {\n        if (userAnswer === answer.action.toUpperCase()) {\n          const nextLevel = answer.go();\n          try {\n            game = changeLevel(game, nextLevel);\n          } catch (e) {\n            game = die(game);\n          }\n          updateGame(game);\n          if (!canContinue(game)) {\n            showGameOver(game);\n          }\n        }\n      }\n    }\n  });\n\n  updateGame(game);\n  changeScreen(gameContainerElement);\n\n};\n\nexport default () => startGame(initialState);\n","import { changeScreen, render } from './util.js';\r\nimport gameScreen from './game-screen.js';\r\n\r\nconst template = `<div class=\"end\">\r\n<p>Ghbdtn! Настало время приключений! Вы готовы сразится с неприятностями и получить принцессу прямо сейчас?!<br>\r\n  А?!<br>\r\n  Точно?!<br>\r\n  Уверен?!<br>\r\n  Стопудов?!</p>\r\n<p>08 есть?</p>\r\n<div class=\"repeat\">\r\n  Ваше имя:<input type=\"text\"><br>\r\n  <span class=\"repeat-action\">Да</span>\r\n</div>\r\n</div>`;\r\n\r\nconst element = render(template);\r\n\r\nconst agreeButton = element.querySelector(`.repeat-action`);\r\n\r\nagreeButton.addEventListener(`click`, () => {\r\n  gameScreen();\r\n});\r\n\r\nexport default element;\r\n","import {changeScreen} from './util.js';\nimport welcomeScreen from './welcome-screen.js';\n// for development\n\n// import welcomeScreen from './game-screen.js';\n\nchangeScreen(welcomeScreen);\n"],"names":["renderHeader","template","welcomeScreen"],"mappings":"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"}