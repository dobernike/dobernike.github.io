var ESC_KEYCODE=27,navMain=document.querySelector(".main-nav");navMain.classList.remove("main-nav--nojs");var navToggle=navMain.querySelector(".main-nav__toggle");navToggle.addEventListener("click",function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened")):(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"))});var modalLogin=document.querySelector(".modal-login"),modalOverlay=document.querySelector(".modal-overlay"),userNameInput=modalLogin.querySelector(".modal-login__input"),escPressClosePopup=function(e){e.keyCode===ESC_KEYCODE&&document.activeElement!==userNameInput?closePopup():e.keyCode===ESC_KEYCODE&&document.activeElement===userNameInput&&userNameInput.blur()},openPopup=function(e){e.preventDefault(),navMain.classList.contains("main-nav--opened")&&(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened")),modalLogin.classList.add("modal-show"),modalOverlay.classList.add("modal-show")},closePopup=function(){modalLogin.classList.remove("modal-show"),modalOverlay.classList.remove("modal-show"),document.removeEventListener("keydown",escPressClosePopup)},userListLogin=navMain.querySelector(".user-list__login");userListLogin.addEventListener("click",function(e){openPopup(e),document.addEventListener("keydown",escPressClosePopup)});var modalLoginButtonClose=modalLogin.querySelector(".modal-login__button--close");modalLoginButtonClose.addEventListener("click",function(){closePopup()});