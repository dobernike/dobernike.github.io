{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\src\\components\\Header.svelte",
    "..\\..\\src\\components\\Footer.svelte",
    "..\\..\\src\\components\\InvoiceTable\\InvoiceTable.svelte",
    "..\\..\\src\\components\\InvoiceTable\\InvoiceList\\InvoiceList.svelte",
    "..\\..\\src\\components\\InvoiceTable\\InvoiceList\\InvoiceItem\\InvoiceItem.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import { afterUpdate } from \"svelte\";\r\n\r\n  import Barcode from \"./Barcode.svelte\";\r\n  import { getRandomInt } from \"../utils/getRandomInt\";\r\n\r\n  let date = new Date().toLocaleDateString(\"ru\");\r\n  let invoice = getRandomInt(10000, 100000);\r\n\r\n  afterUpdate(() => {\r\n    document.title = `${date} накладная № ${invoice}`;\r\n  });\r\n\r\n  let isInputDate = true;\r\n</script>\r\n\r\n<style>\r\n  span {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n<table id=\"header\">\r\n  <tbody>\r\n    <tr>\r\n      <td>\r\n        <h1>\r\n          Расходная накладная №&nbsp;\r\n          <span on:click={() => (isInputDate = false)}>{invoice}&nbsp;</span>\r\n          от&nbsp;\r\n          <span on:click={() => (isInputDate = true)}>{date}</span>\r\n          &nbsp;\r\n          {#if isInputDate}\r\n            <input class=\"printHide\" type=\"text\" bind:value={date} />\r\n          {:else}\r\n            <input class=\"printHide\" type=\"text\" bind:value={invoice} />\r\n          {/if}\r\n\r\n        </h1>\r\n      </td>\r\n      <td id=\"pay_till\">\r\n        <Barcode />\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<table id=\"info\">\r\n  <tbody>\r\n    <tr>\r\n      <td>\r\n        <ul id=\"receiver\">\r\n          <b>\r\n            <li>\r\n              Адрес поставки: Стрельна, ул. Нижняя Колония, д. 49Б +79626803377\r\n            </li>\r\n            <li>Поставщик: Индивидуальный Предприниматель Кудряшов А.Н.</li>\r\n          </b>\r\n        </ul>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n",
    "<script>\r\n  import { goodsCount, total } from \"../stores\";\r\n  import numberToString from \"../utils/numberToString\";\r\n</script>\r\n\r\n<style>\r\n  #sum-names::first-letter {\r\n    text-transform: capitalize;\r\n  }\r\n\r\n  .print-button {\r\n    display: flex;\r\n    margin: 2rem auto;\r\n  }\r\n</style>\r\n\r\n<p>\r\n  Всего наименований {$goodsCount} на сумму\r\n  <span class=\"price\">{$total.toLocaleString()}</span>\r\n  руб.\r\n</p>\r\n<p id=\"sum-names\">{numberToString($total)}</p>\r\n\r\n<table id=\"subscripts\">\r\n  <tbody>\r\n    <tr>\r\n      <th>Отпустил</th>\r\n      <td />\r\n      <th>Получил</th>\r\n      <td />\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<button class=\"print-button printHide\" on:click={window.print.bind(null)}>\r\n  Печать\r\n</button>\r\n",
    "<script>\r\n  import { goodsCount, total } from \"../../stores\";\r\n  import { DELIVERY_PRICE, TO_DELIVERY_FREE } from \"../../contants\";\r\n  import InvoiceList from \"./InvoiceList/InvoiceList.svelte\";\r\n\r\n  let delivery = true;\r\n\r\n  const handleDeleteDelivery = () => {\r\n    delivery = false;\r\n    total.update(n => n - DELIVERY_PRICE);\r\n  };\r\n\r\n  const handleUpdateTotal = price => {\r\n    if (price < TO_DELIVERY_FREE && price !== 0) {\r\n      delivery = true;\r\n      price += DELIVERY_PRICE;\r\n    } else {\r\n      delivery = false;\r\n    }\r\n\r\n    total.set(price);\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .delete.delete--delivery:focus,\r\n  .delete.delete--delivery:hover {\r\n    opacity: 0.8;\r\n    background-color: inherit;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n<table id=\"order\">\r\n  <thead>\r\n    <tr>\r\n      <th>№</th>\r\n      <th>Товар</th>\r\n      <th>Кол.</th>\r\n      <th>Ед.</th>\r\n      <th>Цена (руб)</th>\r\n      <th>Сумма (руб)</th>\r\n    </tr>\r\n  </thead>\r\n  <tfoot>\r\n\r\n    {#if delivery}\r\n      <tr class=\"total\">\r\n        <td colspan=\"5\">Доставка:</td>\r\n        <td>{DELIVERY_PRICE}</td>\r\n        <td\r\n          class=\"printHide delete delete--delivery\"\r\n          on:click={handleDeleteDelivery}>\r\n          x\r\n        </td>\r\n      </tr>\r\n    {/if}\r\n\r\n    <tr class=\"total\">\r\n      <td colSpan=\"5\">Итого:</td>\r\n      <td class=\"price\">{$total.toLocaleString()}</td>\r\n    </tr>\r\n  </tfoot>\r\n  <tbody>\r\n    <InvoiceList onUpdateTotal={handleUpdateTotal} />\r\n  </tbody>\r\n</table>\r\n",
    "<script>\r\n  import { afterUpdate } from \"svelte\";\r\n  import { goodsCount } from \"../../../stores\";\r\n  import InvoiceItem from \"./InvoiceItem/InvoiceItem.svelte\";\r\n\r\n  export let onUpdateTotal;\r\n\r\n  let name = \"\";\r\n  let count = 1;\r\n  let price = \"\";\r\n\r\n  let total = [0];\r\n  let rows = [];\r\n\r\n  let ref;\r\n\r\n  const reducer = (accumulator, currentValue) => accumulator + currentValue;\r\n\r\n  afterUpdate(() => {\r\n    const totalPrice = total.reduce(reducer);\r\n\r\n    onUpdateTotal(totalPrice);\r\n    goodsCount.set(rows.length);\r\n  });\r\n\r\n  const handleKeyPress = e => {\r\n    if (e.key === \"Enter\") handleAddRow();\r\n  };\r\n\r\n  const isValid = () =>\r\n    name !== \"\" &&\r\n    count !== \"\" &&\r\n    count >= 1 &&\r\n    typeof count === \"number\" &&\r\n    price !== \"\" &&\r\n    price >= 0 &&\r\n    typeof price === \"number\";\r\n\r\n  const handleDelete = e => {\r\n    rows = [...rows.slice(0, -1)];\r\n    total = [...total.slice(0, -1)];\r\n  };\r\n\r\n  const handleAddRow = () => {\r\n    if (!isValid()) return;\r\n\r\n    rows = [...rows, { name, count, price, handleDelete }];\r\n    total = [...total, price * count];\r\n\r\n    name = \"\";\r\n    count = 1;\r\n    price = \"\";\r\n\r\n    ref.focus();\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .inputs-data {\r\n    text-align: left !important;\r\n  }\r\n\r\n  .name {\r\n    width: 300px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .count {\r\n    width: 40px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .price {\r\n    width: 60px;\r\n  }\r\n\r\n  :global(tr:nth-last-child(2) .delete) {\r\n    visibility: visible;\r\n    border: 1px solid black;\r\n  }\r\n\r\n  .addBtn {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .addBtn:active {\r\n    opacity: 0.8;\r\n  }\r\n</style>\r\n\r\n{#each rows as { name, name, count, price, onDelete }, idx}\r\n  <InvoiceItem index={idx + 1} {name} {count} {price} onDelete={handleDelete} />\r\n{/each}\r\n\r\n<tr class=\"printHide\">\r\n  <td class=\"inputs-data\" colspan=\"5\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"name\"\r\n      placeholder=\"название\"\r\n      on:keypress={handleKeyPress}\r\n      bind:value={name}\r\n      bind:this={ref} />\r\n    <input\r\n      type=\"number\"\r\n      class=\"count\"\r\n      placeholder=\"1\"\r\n      on:keypress={handleKeyPress}\r\n      bind:value={count} />\r\n    <input\r\n      type=\"number\"\r\n      min=\"0\"\r\n      class=\"price\"\r\n      placeholder=\"₽\"\r\n      on:keypress={handleKeyPress}\r\n      bind:value={price} />\r\n  </td>\r\n\r\n  <td>\r\n    <button class=\"addBtn\" on:click={handleAddRow}>Добавить</button>\r\n  </td>\r\n</tr>\r\n",
    "<script>\r\n  export let index;\r\n  export let name;\r\n  export let count;\r\n  export let price;\r\n  export let onDelete;\r\n</script>\r\n\r\n<style>\r\n  .delete {\r\n    text-align: center !important;\r\n\r\n    visibility: hidden;\r\n    text-transform: uppercase;\r\n    font-weight: bold;\r\n    color: brown;\r\n\r\n    cursor: pointer;\r\n  }\r\n\r\n  .delete:focus,\r\n  .delete:hover {\r\n    background-color: aquamarine;\r\n  }\r\n</style>\r\n\r\n<tr>\r\n  <td>{index}.</td>\r\n  <td class=\"item-name\">{name}</td>\r\n  <td>{count}</td>\r\n  <td class=\"units\">шт.</td>\r\n  <td class=\"price\">{(+price).toLocaleString()}</td>\r\n  <td class=\"price\">{(price * count).toLocaleString()}</td>\r\n  <td class=\"printHide delete\" on:click={onDelete}>x</td>\r\n</tr>\r\n"
  ],
  "names": [],
  "mappings": "AAiBE,IAAI,eAAC,CAAC,AACJ,MAAM,CAAE,OAAO,AACjB,CAAC;ACbD,yBAAU,cAAc,AAAC,CAAC,AACxB,cAAc,CAAE,UAAU,AAC5B,CAAC,AAED,aAAa,eAAC,CAAC,AACb,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,IAAI,CAAC,IAAI,AACnB,CAAC;ACYD,OAAO,gCAAiB,MAAM,CAC9B,OAAO,gCAAiB,MAAM,AAAC,CAAC,AAC9B,OAAO,CAAE,GAAG,CACZ,gBAAgB,CAAE,OAAO,CACzB,MAAM,CAAE,OAAO,AACjB,CAAC;AC4BD,YAAY,eAAC,CAAC,AACZ,UAAU,CAAE,IAAI,CAAC,UAAU,AAC7B,CAAC,AAED,KAAK,eAAC,CAAC,AACL,KAAK,CAAE,KAAK,CACZ,YAAY,CAAE,IAAI,AACpB,CAAC,AAED,MAAM,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,CACX,YAAY,CAAE,IAAI,AACpB,CAAC,AAED,MAAM,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AAEO,4BAA4B,AAAE,CAAC,AACrC,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,AACzB,CAAC,AAED,OAAO,eAAC,CAAC,AACP,MAAM,CAAE,OAAO,AACjB,CAAC,AAED,sBAAO,OAAO,AAAC,CAAC,AACd,OAAO,CAAE,GAAG,AACd,CAAC;AC9ED,OAAO,eAAC,CAAC,AACP,UAAU,CAAE,MAAM,CAAC,UAAU,CAE7B,UAAU,CAAE,MAAM,CAClB,cAAc,CAAE,SAAS,CACzB,WAAW,CAAE,IAAI,CACjB,KAAK,CAAE,KAAK,CAEZ,MAAM,CAAE,OAAO,AACjB,CAAC,AAED,sBAAO,MAAM,CACb,sBAAO,MAAM,AAAC,CAAC,AACb,gBAAgB,CAAE,UAAU,AAC9B,CAAC"
}