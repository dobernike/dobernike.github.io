var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}function l(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function h(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t){return""===t?void 0:+t}function $(t,n){n=""+n,t.data!==n&&(t.data=n)}function b(t,n){(null!=n||t.value)&&(t.value=n)}let H;function y(t){H=t}function v(t){(function(){if(!H)throw new Error("Function called outside component initialization");return H})().$$.after_update.push(t)}const x=[],w=[],M=[],z=[],V=Promise.resolve();let k=!1;function _(t){M.push(t)}function S(){const t=new Set;do{for(;x.length;){const t=x.shift();y(t),L(t.$$)}for(;w.length;)w.pop()();for(let n=0;n<M.length;n+=1){const e=M[n];t.has(e)||(e(),t.add(e))}M.length=0}while(x.length);for(;z.length;)z.pop()();k=!1}function L(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(_)}}const C=new Set;let F;function T(t,n){t&&t.i&&(C.delete(t),t.i(n))}function N(t,n,e,r){if(t&&t.o){if(C.has(t))return;C.add(t),F.c.push(()=>{C.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function D(t){t&&t.c()}function E(t,e,c){const{fragment:s,on_mount:l,on_destroy:u,after_update:i}=t.$$;s&&s.m(e,c),_(()=>{const e=l.map(n).filter(o);u?u.push(...e):r(e),t.$$.on_mount=[]}),i.forEach(_)}function A(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(x.push(t),k||(k=!0,V.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function j(n,o,c,s,l,u,i=[-1]){const a=H;y(n);const p=o.props||{},d=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:e(),dirty:i};let f=!1;d.ctx=c?c(n,p,(t,e,r=e)=>(d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),f&&U(n,t)),e)):[],d.update(),f=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),o.target&&(o.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(o.target)):d.fragment&&d.fragment.c(),o.intro&&T(n.$$.fragment),E(n,o.target,o.anchor),S()),y(a)}class B{$destroy(){A(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function O(n){let e,r,o,c,s,a,d,f,h,g,$,b,H,y,v,x,w,M,z,V,k,_,S,L,C;return{c(){e=p("svg"),r=p("path"),o=p("g"),c=p("path"),s=p("path"),a=p("path"),d=p("path"),f=p("path"),h=p("path"),g=p("path"),$=p("path"),b=p("path"),H=p("path"),y=p("path"),v=p("path"),x=p("path"),w=p("path"),M=p("path"),z=p("path"),V=p("path"),k=p("path"),_=p("path"),S=p("path"),L=p("path"),C=p("path"),m(r,"fill","#fff"),m(r,"d","M0 0H178V70H0z"),m(c,"d","M0 0H4V50H0z"),m(s,"d","M6 0H8V50H6z"),m(a,"d","M12 0H18V50H12z"),m(d,"d","M22 0H30V50H22z"),m(f,"d","M32 0H34V50H32z"),m(h,"d","M36 0H38V50H36z"),m(g,"d","M44 0H46V50H44z"),m($,"d","M52 0H54V50H52z"),m(b,"d","M60 0H64V50H60z"),m(H,"d","M66 0H72V50H66z"),m(y,"d","M74 0H76V50H74z"),m(v,"d","M78 0H86V50H78z"),m(x,"d","M88 0H94V50H88z"),m(w,"d","M96 0H98V50H96z"),m(M,"d","M102 0H106V50H102z"),m(z,"d","M110 0H114V50H110z"),m(V,"d","M116 0H122V50H116z"),m(k,"d","M124 0H130V50H124z"),m(_,"d","M132 0H136V50H132z"),m(S,"d","M142 0H148V50H142z"),m(L,"d","M150 0H152V50H150z"),m(C,"d","M154 0H158V50H154z"),m(o,"transform","translate(10 10)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"x","0"),m(e,"y","0"),m(e,"version","1.1"),m(e,"viewBox","0 0 178 70"),m(e,"width","178px"),m(e,"height","70px"),m(e,"alt","штрихкод накладной")},m(t,n){u(t,e,n),l(e,r),l(e,o),l(o,c),l(o,s),l(o,a),l(o,d),l(o,f),l(o,h),l(o,g),l(o,$),l(o,b),l(o,H),l(o,y),l(o,v),l(o,x),l(o,w),l(o,M),l(o,z),l(o,V),l(o,k),l(o,_),l(o,S),l(o,L),l(o,C)},p:t,i:t,o:t,d(t){t&&i(e)}}}class q extends B{constructor(t){super(),j(this,t,null,O,c,{})}}const P=(t,n)=>Math.floor(Math.random()*(n-t+1))+t;function G(t){let n,e;return{c(){n=a("input"),m(n,"class","printHide"),m(n,"type","text"),e=h(n,"input",t[6])},m(e,r){u(e,n,r),b(n,t[1])},p(t,e){2&e&&n.value!==t[1]&&b(n,t[1])},d(t){t&&i(n),e()}}}function I(t){let n,e;return{c(){n=a("input"),m(n,"class","printHide"),m(n,"type","text"),e=h(n,"input",t[5])},m(e,r){u(e,n,r),b(n,t[0])},p(t,e){1&e&&n.value!==t[0]&&b(n,t[0])},d(t){t&&i(n),e()}}}function J(t){let n,e,o,c,s,p,g,b,H,y,v,x,w,M,z,V,k,_,S;function L(t,n){return t[2]?I:G}let C=L(t),F=C(t);const U=new q({});return{c(){n=a("table"),e=a("tbody"),o=a("tr"),c=a("td"),s=a("h1"),p=d("Расходная накладная № \r\n          "),g=a("span"),b=d(t[1]),H=d(" "),y=d("\r\n          от \r\n          "),v=a("span"),x=d(t[0]),w=d("\r\n           \r\n          "),F.c(),M=f(),z=a("td"),D(U.$$.fragment),V=f(),k=a("table"),k.innerHTML='<tbody><tr><td><ul id="receiver"><b><li>\n              Адрес поставки: Стрельна, ул. Нижняя Колония, д. 49Б +79626803377\n            </li> \n            <li>Поставщик: Индивидуальный Предприниматель Кудряшов А.Н.</li></b></ul></td></tr></tbody>',m(g,"class","svelte-1brvnhj"),m(v,"class","svelte-1brvnhj"),m(z,"id","pay_till"),m(n,"id","header"),m(k,"id","info"),S=[h(g,"click",t[3]),h(v,"click",t[4])]},m(t,r){u(t,n,r),l(n,e),l(e,o),l(o,c),l(c,s),l(s,p),l(s,g),l(g,b),l(g,H),l(s,y),l(s,v),l(v,x),l(s,w),F.m(s,null),l(o,M),l(o,z),E(U,z,null),u(t,V,r),u(t,k,r),_=!0},p(t,[n]){(!_||2&n)&&$(b,t[1]),(!_||1&n)&&$(x,t[0]),C===(C=L(t))&&F?F.p(t,n):(F.d(1),F=C(t),F&&(F.c(),F.m(s,null)))},i(t){_||(T(U.$$.fragment,t),_=!0)},o(t){N(U.$$.fragment,t),_=!1},d(t){t&&i(n),F.d(),A(U),t&&i(V),t&&i(k),r(S)}}}function K(t,n,e){let r=(new Date).toLocaleDateString("ru"),o=P(1e4,1e5);v(()=>{document.title=`${r} накладная № ${o}`});let c=!0;return[r,o,c,()=>e(2,c=!1),()=>e(2,c=!0),function(){r=this.value,e(0,r)},function(){o=this.value,e(1,o)}]}class Q extends B{constructor(t){super(),j(this,t,K,J,c,{})}}const R=[];function W(n,e=t){let r;const o=[];function s(t){if(c(n,t)&&(n=t,r)){const t=!R.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),R.push(e,n)}if(t){for(let t=0;t<R.length;t+=2)R[t][0](R[t+1]);R.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(c,l=t){const u=[c,l];return o.push(u),1===o.length&&(r=e(s)||t),c(n),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const X=W(0),Y=W(0),Z=3e3,tt=300;function nt(n){let e,r,o,c,s,p,g,b,H,y,v,x,w,M,z,V,k,_,S,L,C,F=(+n[3]).toLocaleString()+"",T=(n[3]*n[2]).toLocaleString()+"";return{c(){e=a("tr"),r=a("td"),o=d(n[0]),c=d("."),s=f(),p=a("td"),g=d(n[1]),b=f(),H=a("td"),y=d(n[2]),v=f(),x=a("td"),x.textContent="шт.",w=f(),M=a("td"),z=d(F),V=f(),k=a("td"),_=d(T),S=f(),L=a("td"),L.textContent="x",m(p,"class","item-name"),m(x,"class","units"),m(M,"class","price"),m(k,"class","price"),m(L,"class","printHide delete svelte-1vg9rm9"),C=h(L,"click",n[4])},m(t,n){u(t,e,n),l(e,r),l(r,o),l(r,c),l(e,s),l(e,p),l(p,g),l(e,b),l(e,H),l(H,y),l(e,v),l(e,x),l(e,w),l(e,M),l(M,z),l(e,V),l(e,k),l(k,_),l(e,S),l(e,L)},p(t,[n]){1&n&&$(o,t[0]),2&n&&$(g,t[1]),4&n&&$(y,t[2]),8&n&&F!==(F=(+t[3]).toLocaleString()+"")&&$(z,F),12&n&&T!==(T=(t[3]*t[2]).toLocaleString()+"")&&$(_,T)},i:t,o:t,d(t){t&&i(e),C()}}}function et(t,n,e){let{index:r}=n,{name:o}=n,{count:c}=n,{price:s}=n,{onDelete:l}=n;return t.$set=t=>{"index"in t&&e(0,r=t.index),"name"in t&&e(1,o=t.name),"count"in t&&e(2,c=t.count),"price"in t&&e(3,s=t.price),"onDelete"in t&&e(4,l=t.onDelete)},[r,o,c,s,l]}class rt extends B{constructor(t){super(),j(this,t,et,nt,c,{index:0,name:1,count:2,price:3,onDelete:4})}}function ot(t,n,e){const r=t.slice();return r[2]=n[e].name,r[2]=n[e].name,r[3]=n[e].count,r[4]=n[e].price,r[16]=n[e].onDelete,r[18]=e,r}function ct(t){let n;const e=new rt({props:{index:t[18]+1,name:t[2],count:t[3],price:t[4],onDelete:t[6]}});return{c(){D(e.$$.fragment)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[2]),1&n&&(r.count=t[3]),1&n&&(r.price=t[4]),e.$set(r)},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function st(t){let n,e,o,c,s,p,d,g,$,H,y,v,x,w=!1,M=!1,z=t[0],V=[];for(let n=0;n<z.length;n+=1)V[n]=ct(ot(t,z,n));const k=t=>N(V[t],1,1,()=>{V[t]=null});function _(){w=!0,t[14].call(p)}function S(){M=!0,t[15].call(g)}return{c(){for(let t=0;t<V.length;t+=1)V[t].c();n=f(),e=a("tr"),o=a("td"),c=a("input"),s=f(),p=a("input"),d=f(),g=a("input"),$=f(),H=a("td"),y=a("button"),y.textContent="Добавить",m(c,"type","text"),m(c,"class","name svelte-18t4kby"),m(c,"placeholder","название"),m(p,"type","number"),m(p,"class","count svelte-18t4kby"),m(p,"placeholder","1"),m(g,"type","number"),m(g,"min","0"),m(g,"class","price svelte-18t4kby"),m(g,"placeholder","₽"),m(o,"class","inputs-data svelte-18t4kby"),m(o,"colspan","5"),m(y,"class","addBtn svelte-18t4kby"),m(e,"class","printHide"),x=[h(c,"input",t[12]),h(c,"keypress",t[5]),h(p,"input",_),h(p,"keypress",t[5]),h(g,"input",S),h(g,"keypress",t[5]),h(y,"click",t[7])]},m(r,i){for(let t=0;t<V.length;t+=1)V[t].m(r,i);u(r,n,i),u(r,e,i),l(e,o),l(o,c),b(c,t[2]),t[13](c),l(o,s),l(o,p),b(p,t[3]),l(o,d),l(o,g),b(g,t[4]),l(e,$),l(e,H),l(H,y),v=!0},p(t,[e]){if(65&e){let o;for(z=t[0],o=0;o<z.length;o+=1){const r=ot(t,z,o);V[o]?(V[o].p(r,e),T(V[o],1)):(V[o]=ct(r),V[o].c(),T(V[o],1),V[o].m(n.parentNode,n))}for(F={r:0,c:[],p:F},o=z.length;o<V.length;o+=1)k(o);F.r||r(F.c),F=F.p}4&e&&c.value!==t[2]&&b(c,t[2]),!w&&8&e&&b(p,t[3]),w=!1,!M&&16&e&&b(g,t[4]),M=!1},i(t){if(!v){for(let t=0;t<z.length;t+=1)T(V[t]);v=!0}},o(t){V=V.filter(Boolean);for(let t=0;t<V.length;t+=1)N(V[t]);v=!1},d(o){!function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(V,o),o&&i(n),o&&i(e),t[13](null),r(x)}}}function lt(t,n,e){let r,{onUpdateTotal:o}=n,c="",s=1,l="",u=[0],i=[];const a=(t,n)=>t+n;v(()=>{const t=u.reduce(a);o(t),X.set(i.length)});const p=()=>""!==c&&""!==s&&s>=1&&"number"==typeof s&&""!==l&&l>=0&&"number"==typeof l,d=t=>{e(0,i=[...i.slice(0,-1)]),u=[...u.slice(0,-1)]},f=()=>{p()&&(e(0,i=[...i,{name:c,count:s,price:l,handleDelete:d}]),u=[...u,l*s],e(2,c=""),e(3,s=1),e(4,l=""),r.focus())};return t.$set=t=>{"onUpdateTotal"in t&&e(8,o=t.onUpdateTotal)},[i,r,c,s,l,t=>{"Enter"===t.key&&f()},d,f,o,u,a,p,function(){c=this.value,e(2,c)},function(t){w[t?"unshift":"push"](()=>{e(1,r=t)})},function(){s=g(this.value),e(3,s)},function(){l=g(this.value),e(4,l)}]}class ut extends B{constructor(t){super(),j(this,t,lt,st,c,{onUpdateTotal:8})}}function it(n){let e,r,o,c,s,p,d;return{c(){e=a("tr"),r=a("td"),r.textContent="Доставка:",o=f(),c=a("td"),c.textContent=`${tt}`,s=f(),p=a("td"),p.textContent="x",m(r,"colspan","5"),m(p,"class","printHide delete delete--delivery svelte-17gssmo"),m(e,"class","total"),d=h(p,"click",n[2])},m(t,n){u(t,e,n),l(e,r),l(e,o),l(e,c),l(e,s),l(e,p)},p:t,d(t){t&&i(e),d()}}}function at(t){let n,e,r,o,c,s,p,h,g,b,H,y,v,x=t[1].toLocaleString()+"",w=t[0]&&it(t);const M=new ut({props:{onUpdateTotal:t[3]}});return{c(){n=a("table"),e=a("thead"),e.innerHTML="<tr><th>№</th> \n      <th>Товар</th> \n      <th>Кол.</th> \n      <th>Ед.</th> \n      <th>Цена (руб)</th> \n      <th>Сумма (руб)</th></tr>",r=f(),o=a("tfoot"),w&&w.c(),c=f(),s=a("tr"),p=a("td"),p.textContent="Итого:",h=f(),g=a("td"),b=d(x),H=f(),y=a("tbody"),D(M.$$.fragment),m(p,"colspan","5"),m(g,"class","price"),m(s,"class","total"),m(n,"id","order")},m(t,i){u(t,n,i),l(n,e),l(n,r),l(n,o),w&&w.m(o,null),l(o,c),l(o,s),l(s,p),l(s,h),l(s,g),l(g,b),l(n,H),l(n,y),E(M,y,null),v=!0},p(t,[n]){t[0]?w?w.p(t,n):(w=it(t),w.c(),w.m(o,c)):w&&(w.d(1),w=null),(!v||2&n)&&x!==(x=t[1].toLocaleString()+"")&&$(b,x)},i(t){v||(T(M.$$.fragment,t),v=!0)},o(t){N(M.$$.fragment,t),v=!1},d(t){t&&i(n),w&&w.d(),A(M)}}}function pt(t,n,e){let r;s(t,Y,t=>e(1,r=t));let o=!0;return[o,r,()=>{e(0,o=!1),Y.update(t=>t-tt)},t=>{t<Z&&0!==t?(e(0,o=!0),t+=tt):e(0,o=!1),Y.set(t)}]}class dt extends B{constructor(t){super(),j(this,t,pt,at,c,{})}}function ft(t,n){n=n||"";var e=new Array;function r(t,n){var r="",o="";if(3==t.length&&(o=t.substr(0,1),t=t.substr(1,3),r=e[3][o]+" "),t<20)r+=e[1][parseFloat(t)]+" ";else{var c=t.substr(0,1),s=t.substr(1,2);r+=e[2][c]+" "+e[1][s]+" "}switch(n){case 0:if(2==t.length&&1==parseFloat(t.substr(0,1))){r+="рублей";break}r+=1==(l=parseFloat(t.substr(-1)))?"рубль":l>1&&l<5?"рубля":"рублей";break;case 1:if(2==(t=t.replace(/^[0]{1,}$/g,"0")).length&&1==parseFloat(t.substr(0,1))){r+="тысяч ";break}var l;1==(l=parseFloat(t.substr(-1)))?r+="тысяча ":l>1&&l<5?r+="тысячи ":parseFloat(t)>0&&(r+="тысяч "),r=(r=r.replace("один ","одна ")).replace("два ","две ")}return r}if(e[1]=new Array("","один","два","три","четыре","пять","шесть","семь","восемь","девять","десять","одиннадцать","двенадцать","тринадцать","четырнадцать","пятнадцать","шестнадцать","семнадцать","восемнадцать","девятнадцать"),e[2]=new Array("","","двадцать","тридцать","сорок","пятьдесят","шестьдесят","семьдесят","восемьдесят","девяносто"),e[3]=new Array("","сто","двести","триста","четыреста","пятьсот","шестьсот","семьсот","восемьсот","девятьсот"),!t||0==t)return"";if("number"!=typeof t&&(t=(t+="").replace(",","."),t=parseFloat(t),isNaN(t)))return"";if(-1!=(t=t.toFixed(2)).indexOf("."))var o=t.split("."),c=(t=o[0],o[1]);for(var s="",l="",u=0,i=t.length-1;i>=0;i--){3!=(l=t.substr(i,1)+l).length&&0!=i||isNaN(parseFloat(l))||(s=r(l,u)+s,l="",u++)}return c&&(s+=function(t){var n=t.substr(0,1),e=parseFloat(t.substr(1,2)),r=" "+n+e;return r+=1==e?" копейка":e>1&&e<5?" копейки":" копеек"}(c)),!0!==n&&"upper"!=n||(s=s.substr(0,1).toUpperCase()+s.substr(1)),s.replace(/[\s]{1,}/g," ")}function ht(n){let e,r,o,c,s,p,g,b,H,y,v,x,w,M,z,V=n[1].toLocaleString()+"",k=ft(n[1])+"";return{c(){e=a("p"),r=d("Всего наименований "),o=d(n[0]),c=d(" на сумму\r\n  "),s=a("span"),p=d(V),g=d("\r\n  руб."),b=f(),H=a("p"),y=d(k),v=f(),x=a("table"),x.innerHTML="<tbody><tr><th>Отпустил</th> \n      <td></td> \n      <th>Получил</th> \n      <td></td></tr></tbody>",w=f(),M=a("button"),M.textContent="Печать",m(s,"class","price"),m(H,"id","sum-names"),m(H,"class","svelte-1l7n0zr"),m(x,"id","subscripts"),m(M,"class","print-button printHide svelte-1l7n0zr"),z=h(M,"click",window.print.bind(null))},m(t,n){u(t,e,n),l(e,r),l(e,o),l(e,c),l(e,s),l(s,p),l(e,g),u(t,b,n),u(t,H,n),l(H,y),u(t,v,n),u(t,x,n),u(t,w,n),u(t,M,n)},p(t,[n]){1&n&&$(o,t[0]),2&n&&V!==(V=t[1].toLocaleString()+"")&&$(p,V),2&n&&k!==(k=ft(t[1])+"")&&$(y,k)},i:t,o:t,d(t){t&&i(e),t&&i(b),t&&i(H),t&&i(v),t&&i(x),t&&i(w),t&&i(M),z()}}}function mt(t,n,e){let r,o;return s(t,X,t=>e(0,r=t)),s(t,Y,t=>e(1,o=t)),[r,o]}Number.prototype.numberToString=function(t){return ft(this,t)},String.prototype.numberToString=function(t){return ft(this,t)};class gt extends B{constructor(t){super(),j(this,t,mt,ht,c,{})}}function $t(n){let e,r,o,c;const s=new Q({}),p=new dt({}),d=new gt({});return{c(){e=a("main"),D(s.$$.fragment),r=f(),D(p.$$.fragment),o=f(),D(d.$$.fragment)},m(t,n){u(t,e,n),E(s,e,null),l(e,r),E(p,e,null),l(e,o),E(d,e,null),c=!0},p:t,i(t){c||(T(s.$$.fragment,t),T(p.$$.fragment,t),T(d.$$.fragment,t),c=!0)},o(t){N(s.$$.fragment,t),N(p.$$.fragment,t),N(d.$$.fragment,t),c=!1},d(t){t&&i(e),A(s),A(p),A(d)}}}return new class extends B{constructor(t){super(),j(this,t,null,$t,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
